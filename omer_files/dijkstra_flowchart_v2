// Dynamic Dijkstra Flowchart
digraph {
	rankdir=TB size="10,16"
	node [fillcolor="#E3F2FD" fontname=Arial shape=box style=filled]
	Start [label="Start
(Init Queue: StartNode, Time, Weight)" fillcolor="#C8E6C9" shape=oval]
	QueueCheck [label="Is Queue Empty?" fillcolor="#FFE0B2" shape=diamond]
	NoPath [label="No Path Found
(Return Failure)" fillcolor="#FFCDD2" shape=oval]
	Pop [label="Pop Lowest Cost State
(cost, u, time, weight)"]
	GoalCheck [label="Is Node (u) == Destination?" fillcolor="#FFE0B2" shape=diamond]
	MinTimeCheck [label="Is Time < Min Arrival?
(Too Early?)" fillcolor="#FFCDD2" shape=diamond]
	DiscardEarly [label="Discard Path
(Too Early)" fillcolor="#EF9A9A" shape=oval]
	End [label="Success!
Reconstruct Path & Return" fillcolor="#A5D6A7" shape=oval]
	Pruning [label="Is State Dominated?
(Check best_states[u, t_bin])" fillcolor="#FFCDD2" shape=diamond]
	DiscardDominated [label="Discard State
(Dominated)" fillcolor="#EF9A9A" shape=oval]
	UpdatePareto [label="Update Pareto Frontier
(Add new, remove worse)"]
	Expand [label="For Each Neighbor (v)
in Adjacency List"]
	Physics [label="Physics Engine:
1. Get Wind @ Time
2. Calc Fuel Burn & Time
3. Calc Segment Cost"]
	CalcNewState [label="Calculate New State:
new_cost += segment_cost
new_weight -= fuel_burn
new_time += segment_time"]
	Constraints [label="Is Weight < Min Dry
OR
Time > Max Arrival?" fillcolor="#FFCDD2" shape=diamond]
	SkipNeighbor [label="Skip Neighbor
(Invalid)" fillcolor="#EF9A9A" shape=oval]
	Push [label="Push New State to Queue
(new_cost, v, new_time, new_weight)"]
	NextNeighbor [label="More Neighbors?" fillcolor="#FFE0B2" shape=diamond]
	Start -> QueueCheck
	QueueCheck -> NoPath [label="Yes (Empty)"]
	QueueCheck -> Pop [label=No]
	Pop -> GoalCheck
	GoalCheck -> Pruning [label=No]
	GoalCheck -> MinTimeCheck [label=Yes]
	MinTimeCheck -> DiscardEarly [label="Yes (< Min)"]
	DiscardEarly -> QueueCheck [label="Next Iteration" style=dashed]
	MinTimeCheck -> End [label="No (Valid)"]
	Pruning -> DiscardDominated [label=Yes]
	DiscardDominated -> QueueCheck [label="Next Iteration" style=dashed]
	Pruning -> UpdatePareto [label=No]
	UpdatePareto -> Expand
	Expand -> Physics
	Physics -> CalcNewState
	CalcNewState -> Constraints
	Constraints -> SkipNeighbor [label=Yes]
	Constraints -> Push [label=No]
	Push -> NextNeighbor
	SkipNeighbor -> NextNeighbor [style=dashed]
	NextNeighbor -> Expand [label=Yes style=dashed]
	NextNeighbor -> QueueCheck [label="No (All Neighbors Done)" style=dashed]
}
